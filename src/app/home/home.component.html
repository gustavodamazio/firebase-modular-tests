<div class="flex items-center justify-center bg-sky-600 px-6 py-2.5">
  <p class="text-sm leading-6 text-white">
    <strong class="font-semibold">Open browser console to debug</strong
    ><svg
      viewBox="0 0 2 2"
      class="mx-2 inline h-0.5 w-0.5 fill-current"
      aria-hidden="true">
      <circle cx="1" cy="1" r="1" />
    </svg>
  </p>
</div>
<div
  class="flex flex-col items-center justify-center gap-10 bg-zinc-800 px-6 py-32 lg:px-8">
  <div class="mx-auto max-w-3xl text-base leading-7 text-gray-200">
    <p class="text-base font-semibold leading-7 text-sky-500">Introducing</p>
    <h1
      class="mt-2 text-3xl font-bold tracking-tight text-zinc-200 sm:text-4xl">
      Firebase Modular Tests
    </h1>
    <h2 class="mt-2 text-xl font-bold tracking-tight text-sky-300 sm:text-2xl">
      &#64;angular/fire&#64;7.6.1 | Firebase&#64;9.23.0 | rxfire&#64;6.0.3
    </h2>
    <p class="mt-6 text-xl leading-8">
      This is a simple project to demonstrate how to test Firebase Modular.
    </p>
    <div class="mt-10 max-w-2xl">
      <p>
        The objective of this project is to check how modular Firebase behaves
        on the non-modular Firebase side, to facilitate project compatibility,
        which has a lot of non-modular Firebase code.
      </p>
    </div>
  </div>
  <div class="flex flex-col items-center justify-center">
    <div
      class="text-base font-semibold leading-7 text-sky-500"
      *ngIf="firebaseAuthModularService.initialising$ | async; else loaded">
      Loading authentication module...
    </div>
    <ng-template #loaded>
      <ng-container
        *ngIf="
          firebaseAuthModularService.user$ | async;
          let user;
          else: redirectToLogin
        ">
        <div class="text-base font-semibold leading-7 text-sky-500">
          Welcome, {{ user.email }}!
        </div>
        <button
          (click)="firebaseAuthModularService.signOut()"
          [routerLink]="['/login']"
          type="button"
          class="mt-2 rounded-full bg-sky-600 px-4 py-2.5 text-lg font-semibold text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600">
          Logout
        </button>
      </ng-container>
      <ng-template #redirectToLogin>
        <div class="text-base font-semibold leading-7 text-red-400">
          You are not logged in.
        </div>
        <button
          [routerLink]="['/login']"
          type="button"
          class="mt-2 rounded-full bg-sky-600 px-4 py-2.5 text-lg font-semibold text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600">
          Click here to login go login page
        </button>
      </ng-template>
    </ng-template>
  </div>
  <div>
    <app-mock-firestore></app-mock-firestore>
  </div>
</div>
